# The recorder component is storing details in a database which
# then are handled by the history component.
#
# https://www.home-assistant.io/components/recorder/
#####

recorder:
  db_url: !secret mariadb_url
  # The number of days of history to keep in the recorder database
  purge_keep_days: 30
  commit_interval: 20
  auto_purge: true
  exclude:
    domains:
      - alert
      - automation
      - counter
      - group
      - media_player
      - script
      - update
      - zone
      - sun
      - weather
      - updater
    entity_globs:
      - binary_sensor.updated_*
      - binary_sensor.workday_*
      - binary_sensor.*_focus
      - sensor.weather_*
      - sensor.count_*
      - sensor.*_wifi_*
      - sensor.*uptime*
      - sensor.*forecast*
      - sensor.today*
      - sensor.time*
      - sensor.moon*
      - sensor.simeonpashley_home_assistant_config*
    entities:
      - sun.sun # Don't record sun data
      - sensor.last_boot # Comes from 'systemmonitor' sensor platform
      - sensor.date
      - sensor.time
      - sensor.moon
      - binary_sensor.front_door_ding
      - binary_sensor.front_door_ding_2
      - binary_sensor.front_door_motion
      - binary_sensor.front_door_motion_2
      - binary_sensor.sp12_focus
      - binary_sensor.sp_m1_active
      - binary_sensor.sp_m1_audio_input_in_use
      - binary_sensor.sp_m1_audio_output_in_use
      - binary_sensor.sp_m1_camera_in_use
      - binary_sensor.sp_m1_focus
      - sensor.icloud3_event_log
      - sensor.smappee_channel_powers
      - sensor.solar_azimuth
      - sensor.solar_elevation
    event_types:
      - call_service # Don't record service calls
