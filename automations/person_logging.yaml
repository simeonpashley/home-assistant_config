################################################################

id: person_logging
alias: "Log person changes"
initial_state: true
trigger:
  - platform: state
    entity_id:
      - person.simeon
      - person.claire
      - person.eleanor
      - person.isabelle
condition:
  - condition: template
    value_template: "{{ trigger.from_state.state != trigger.to_state.state }}"
action:
  - service: logbook.log
    data_template:
      name: "Person: "
      message: "{{trigger.to_state.name}} changed from {{trigger.from_state.state}} to {{trigger.to_state.state}} by {{ trigger.to_state.attributes.source }}"
